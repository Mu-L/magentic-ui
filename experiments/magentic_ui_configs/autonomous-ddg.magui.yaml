gpt4o_mini_client: &gpt4o_mini_client
  provider: magentic_ui.models.LoadBalancerChatCompletionClient
  config:
    clients:
      - provider: AzureOpenAIChatCompletionClient
        config: &gpt4o_mini_config
          model: gpt-4o-mini
          api_version: "2024-10-21"
          azure_endpoint: https://trapi.research.microsoft.com/gcr/shared
          azure_deployment: gpt-4o-mini_2024-07-18
          azure_ad_token_provider:
            provider: "autogen_ext.auth.azure.AzureTokenProvider"
            config:
              provider_kind: DefaultAzureCredential
              scopes: ["api://trapi/.default"]
      - provider: AzureOpenAIChatCompletionClient
        config:
          <<: *gpt4o_mini_config
          azure_endpoint: https://trapi.research.microsoft.com/msraif/shared
          azure_deployment: gpt-4o-mini_2024-07-18

gpt4o_client: &gpt4o_client
  provider: magentic_ui.models.LoadBalancerChatCompletionClient
  config:
    clients:
      - provider: AzureOpenAIChatCompletionClient
        config: &gpt4o_config
          model: gpt-4o
          api_version: "2024-10-21"
          azure_endpoint: https://trapi.research.microsoft.com/gcr/shared
          azure_deployment: gpt-4o_2024-08-06
          azure_ad_token_provider:
            provider: "autogen_ext.auth.azure.AzureTokenProvider"
            config:
              provider_kind: DefaultAzureCredential
              scopes: ["api://trapi/.default"]
      - provider: AzureOpenAIChatCompletionClient
        config:
          <<: *gpt4o_config
          azure_deployment: gpt-4o_2024-11-20
      - provider: AzureOpenAIChatCompletionClient
        config:
          <<: *gpt4o_config
          azure_endpoint: https://trapi.research.microsoft.com/msraif/shared
          azure_deployment: gpt-4o_2024-08-06
      - provider: AzureOpenAIChatCompletionClient
        config:
          <<: *gpt4o_config
          azure_endpoint: https://trapi.research.microsoft.com/msraif/shared
          azure_deployment: gpt-4o_2024-11-20

model_client_configs:
  orchestrator: *gpt4o_client
  coder: *gpt4o_client
  web_surfer: *gpt4o_client
  file_surfer: *gpt4o_client
  action_guard: *gpt4o_client
  metadata_user: *gpt4o_client

mcp_agent_configs:
  - name: search_agent
    description: |
      An agent that can perform web searches via an API.
      When asked to search something, it will provide a structured list of search result pages.
    model_client: *gpt4o_client
    mcp_servers:
      - server_name: duckduckgo
        server_params:
          type: StdioServerParams
          command: docker
          args: ["run", "-i", "--rm", "mcp/duckduckgo"]

orchestrator:
  cooperative_planning: false
  autonomous_execution: true
  allow_follow_up_input: false
  model_context_token_limit: 110000
  max_turns: 20
  allow_for_replans: true
  retrieve_relevant_plans: "never"
  approval_policy: "never"
  no_overwrite_of_task: true
  final_answer_prompt: |-
    output a FINAL ANSWER to the task.

    The real task is: {task}

    To output the final answer, use the following template: [any explanation for final answer] FINAL ANSWER: [YOUR FINAL ANSWER]
    Don't put your answer in brackets or quotes. 
    Your FINAL ANSWER should be a number OR as few words as possible OR a comma separated list of numbers and/or strings.
    ADDITIONALLY, your FINAL ANSWER MUST adhere to any formatting instructions specified in the original question (e.g., alphabetization, sequencing, units, rounding, decimal places, etc.)
    If you are asked for a number, express it numerically (i.e., with digits rather than words), don't use commas, and don't include units such as $ or percent signs unless specified otherwise.
    If you are asked for a string, don't use articles or abbreviations (e.g. for cities), unless specified otherwise. Don't output any final sentence punctuation such as '.', '!', or '?'.
    If you are asked for a comma separated list, apply the above rules depending on whether the elements are numbers or strings.
    You must answer the question and provide a smart guess if you are unsure. Provide a guess even if you have no idea about the answer.

web_surfer:
  max_actions_per_step: 10
  multiple_tools_per_call: false
  do_bing_search: false
  loop_only: false

browser:
  headless: true
  local: false

inside_docker: false